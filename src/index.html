<!-- Code from d3-graph-gallery.com -->
<!DOCTYPE html>
<meta charset="utf-8">
<!-- Google fonts -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<link href="https://fonts.googleapis.com/css?family=Open+Sans:400,300" rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Raleway' rel='stylesheet' type='text/css'>
<link href="https://fonts.googleapis.com/css?family=Oswald:400,300,700" rel='stylesheet' type='text/css'>

<link rel="stylesheet" href="styleCord.css">

<!-- Load d3.js -->
<script src="https://d3js.org/d3.v4.js"></script>
<script src="https://d3js.org/d3.v4.min.js"></script>

<!-- Create a div where the graph will take place -->
<div id="lineplotNotas"></div>

<div id="lineplotOpcoes"></div>

<div id="grouped_bar_plot"></div>

<div id="radar_chart"></div>

<div id="cord_diagram"></div>


<!-- Color Scale -->
<script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>

<script type="module">

    import Data from './Data.js';
    import LinePlot from './linePlot.js';
    import GroupedBarPlot from './groupedBarPlot.js';
    import RadarChart from './radarChart.js';
    import CordDiagram from './cordDiagram.js'
    var data = new Data();

    var lineplotNotas = new LinePlot('#lineplotNotas');
    data.notas_ultimos_colocados('./files_list.csv', 2007, 2016, lineplotNotas.create_plot);

    var lineplotOpcoes = new LinePlot('#lineplotOpcoes');
    data.percentagem_posicao_curso('./files_list.csv', 'UA-EET', 2007, 2016, lineplotOpcoes.create_plot);

    var gbarplot = new GroupedBarPlot('#grouped_bar_plot');
    var radarChart = new RadarChart('#radar_chart');
    var cordDiagram = new CordDiagram('#cord_diagram');

    data.notas_colocados('./files_list.csv', 'UA-EET', 2007, 2016, gbarplot.create_plot);

    let test = [
        { group: "banana", Nitrogen: "12", normal: "1", stress: "13" },
        { group: "poacee", Nitrogen: "6", normal: "6", stress: "33" },
        { group: "sorgho", Nitrogen: "11", normal: "28", stress: "12" },
        { group: "triticum", Nitrogen: "19", normal: "6", stress: "1" }
    ]
    test.columns = ["group", "Nitrogen", "normal", "stress"]

    var dataaa = [
        {
            name: 'Allocated_budget',
            axes: [
                { axis: 'Sales', value: 42 },
                { axis: 'Marketing', value: 20 },
                { axis: 'Development', value: 60 },
                { axis: 'Customer Support', value: 26 },
                { axis: 'Information Technology', value: 35 },
                { axis: 'Administration', value: 20 }
            ]
        },
        {
            name: 'Actual_Spending',
            axes: [
                { axis: 'Sales', value: 50 },
                { axis: 'Marketing', value: 45 },
                { axis: 'Development', value: 20 },
                { axis: 'Customer Support', value: 20 },
                { axis: 'Information Technology', value: 25 },
                { axis: 'Administration', value: 23 }
            ]
        }
    ];

    var radarChartOptions = {
        w: 490,
        h: 550,
        levels: 5,
        roundStrokes: true,
        color: d3.scaleOrdinal().range(["#AFC52F", "#ff6600", "#3258a8", "#db2121", "#fffb26", "#5c350b" , "#c10ec4", "#0ec4af"]),
        format: '.0f',
        legend: { title: 'Cursos', translateX: -35, translateY: -300 },
        unit: ''
    };

    /*//////////////////////////////////////////////////////////
    ////////////////// Set up the Data /////////////////////////
    //////////////////////////////////////////////////////////*/

    var NameProvider = ["Apple", "HTC", "Huawei", "LG", "Nokia", "Samsung", "Sony", "Other"];

    var matrix = [
        [9.6899, 0.8859, 0.0554, 0.443, 2.5471, 2.4363, 0.5537, 2.5471], /*Apple 19.1584*/
        [0.1107, 1.8272, 0, 0.4983, 1.1074, 1.052, 0.2215, 0.4983], /*HTC 5.3154*/
        [0.0554, 0.2769, 0.2215, 0.2215, 0.3876, 0.8306, 0.0554, 0.3322], /*Huawei 2.3811*/
        [0.0554, 0.1107, 0.0554, 1.2182, 1.1628, 0.6645, 0.4983, 1.052], /*LG 4.8173*/
        [0.2215, 0.443, 0, 0.2769, 10.4097, 1.2182, 0.4983, 2.8239], /*Nokia 15.8915*/
        [1.1628, 2.6024, 0, 1.3843, 8.7486, 16.8328, 1.7165, 5.5925], /*Samsung 38.0399*/
        [0.0554, 0.4983, 0, 0.3322, 0.443, 0.8859, 1.7719, 0.443], /*Sony 4.4297*/
        [0.2215, 0.7198, 0, 0.3322, 1.6611, 1.495, 0.1107, 5.4264] /*Other 9.9667*/
    ];
    /*Sums up to exactly 100*/

    var colors = ["#C4C4C4", "#69B40F", "#EC1D25", "#C8125C", "#008FC8", "#10218B", "#134B24", "#737373"];

    //gbarplot.create_plot_csv("https://raw.githubusercontent.com/holtzy/D3-graph-gallery/master/DATA/data_stacked.csv",['group'])
    //gbarplot.create_plot(test,["group"])
    data.preferencias_opcoes('./files_list.csv', 2016,  radarChart, radarChartOptions)
    //radarChart.create_plot(dataaa, radarChartOptions)

    data.get_range_years('./files_list.csv', null);

    data.alternativas_candidatos('./files_list.csv', 2016, cordDiagram, colors, 0)

    //cordDiagram.create_plot(matrix, NameProvider, colors)

</script>